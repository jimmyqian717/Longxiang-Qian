<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Longxiang Qian</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="lib/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="lib/slick/slick-theme.css"/> 
    <link rel="stylesheet" type="text/css" href="lib/css/customize/main.css">
    <link rel="stylesheet" type="text/css" href="lib/css/customize/navbar.css">
    <link rel="stylesheet" type="text/css" href="lib/css/customize/contact.css">
    <link rel="stylesheet" type="text/css" href="lib/css/customize/components.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/lib/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="/lib/slick/slick-theme.css"/>
    <!-- <link rel="stylesheet" type="text/css" href="/lib/css/customize/animate.css"/> -->
    <link href="https://fonts.googleapis.com/css?family=Prata|Oswald|Abril+Fatface|&display=swap" rel="stylesheet">
    <link href = "./lib/css/customize/pace.css"/>
</head>
<body>
    <section id = "preloader">
        <img class = "preloader-img VCentered" src="images/assets/svg-loaders/hearts.svg"/>
    </section>
    <a id = "nav-brand" href="#logo">Longxiang Qian</a>
    <nav class="navbar navbar-expand-sm">
        <div class="col-sm-10 mx-auto nav-container">
            <ul class="navbar-nav VCentered">
                <li class="nav-item">
                    <a class="nav-link VCentered active-nav-item" data-section = "portraits" href="#gallery" onclick="loadSection(this)" tabindex="-1">PORTRAITS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link VCentered" data-section = "streets" href="#gallery" onclick="loadSection(this)" tabindex="-1">STREETS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link VCentered" data-section = "others" href="#gallery" onclick="loadSection(this)" tabindex="-1">OTHERS</a>
                </li>
                <li id = "contact-nav-item" class="nav-item">
                    <a class="nav-link VCentered" href = "#contact">Contact</a>
                </li>
            </ul>
            <!-- Mobile black overlay -->
            <div class="nav-overlay"></div>
        </div>
    </nav>
    <div class = "" id = "nav-button" onclick="animateBtn(this)">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </div>

    <section class="page" id = "gallery">
        <div class="row VCentered gallery-row">
            <div class="col-sm-1"><button id = "prev-btn" class = "scroll-btn VCentered float-right"><i class="fas fa-chevron-left"></i></button></div>
            <div class="col-sm-10">
                <div class="responsive gallery VCentered"></div>
            </div>
            <div class="col-sm-1">
                <button id = "next-btn" class = "scroll-btn VCentered float-left"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </section>
    <div id = "contact" class="nav-contact-menu page">
        <div class="row">
            <div class="col-sm-6">
                <div class="nav-contact-img-container">
                    <h1 id = "nav-contact-nametag">
                    </h1>
                    <span id = "nav-contact-img-credit">
                        ðŸ“· @timeakadariulia
                    </span>
                </div>
            </div>
            <div class="col-sm-6">
                <div id = "move" class="nav-contact-container VCentered">
                    <div id="nav-contact-content">
                        <p id = "nav-contact-heading" class = "">
                            Hi, I am a <span class = "text-highlight">Portrait Photographer</span> and<br>
                            a full-time <span class = "text-highlight">Computer Science Student</span>.
                        </p>
                        <!-- <h3 id = "nav-contact-subheading">100% Chinese with an European twist.</h3> -->
                        <p id="nav-contact-desc-1" class = "nav-contact-desc">
                            Besides academics, my work involves <span class = "text-highlight">Portrait photography</span>, <br> <span class = "text-highlight">Modern & Minimalistic UI Designs</span> and <span class = "text-highlight"> Web Development</span>.
                        </p>
                        <p id="nav-contact-desc-2" class = "nav-contact-desc">
                                Currently finishing the first year of my CompSci BSc degree<br>
                                <span class = "text-highlight">@ Technology University of Eindhoven, NL</span>
                        </p>
                    </div>
                    <a id = "nav-contact-btn" class="btn" href = "mailto:jimmyqian717@gmail.com?Subject=Collaboration" target="_top">Contact Me
                        <span class = "emoji">&#128076;</span>
                    </a>
                    <div id="nav-social-container">
                        <a class = "nav-social-icon mx-1" href = "https://www.instagram.com/jimmyq_qlx/"><img src="/images/assets/instagram.png" alt=""></a>
                        <a class = "nav-social-icon mx-1" href = "https://www.facebook.com/profile.php?id=100006561281707"><img src="/images/assets/facebook-logo.png" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <script src = "./lib/js/pace.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="lib/slick/slick.min.js"></script>
    <script type = "text/javascript" src = "lib/js/main.js"></script>
    <!-- Slick -->
    <script>
        // document.onmousemove = translateBg;
       $(document).ready(function(){
            $('.responsive').slick({
                // dots: true,
                infinite: true,
                speed: 400,
                slidesToShow: 5,
                slidesToScroll:1,
                arrows:false,
                // variableWidth: true,
                // fade:true,
                responsive: [
                    {
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        swipeToSlide:true,
                        dots: true
                    }
                    },
                    {
                    breakpoint: 600,
                    settings: {
                        swipeToSlide:true,
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                    },
                    {
                    breakpoint: 480,
                    settings: {
                        swipeToSlide:true,
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        dots: true
                    }
                    }
                    // You can unslick at a given breakpoint now by adding:
                    // settings: "unslick"
                    // instead of a settings object
                ]
            });
            addSlickProp("portraits");
        });
       $("#prev-btn").on("click", function(){
           $(".gallery").slick("slickPrev")
       });
       $("#next-btn").on("click", function(){
           $(".gallery").slick("slickNext")
       }); 


       var sectionFlag = "portraits";
    //    Gallery "routing"
       function loadSection(element){
            var elem = $(element);
            // var parent = $(elem.parent())
            var newSection = elem.attr("data-section");
            // Different section request
            if (newSection != sectionFlag){
                $(".active-nav-item").first().removeClass("active-nav-item");
                elem.addClass("active-nav-item")
                // set new section flag
                sectionFlag = newSection;
                removeSlickProp();
                addSlickProp(newSection);
            }
            // Same section request
            else{
                // console.log("requesting identical section")
                return false;
            }
           
        }
         // Theme color list
        var themebg = [];
        var path, imageList, newSection, element;
        // Adding slick images
        function addSlickProp(section){
            newSection = section;
            var jsonPath = "/json/images.json";
            $.getJSON( jsonPath, function( data ) {
                imageList = data[newSection].images;
                $.each(imageList, function(index){
                    path = imageList[index].url;
                    element =  "<img src = '" + path + "' alt='' class='VCentered image-container gallery-images'>"
                        $('.responsive').slick('slickAdd',element);
                })
                // After loading all images, show them
                showImage();
            });
        }

        function removeSlickProp(){
            $(".slick-slide").each(function(image){
                var index = $(this).attr("data-slick-index");
                $(".gallery").slick("slickRemove", index, null, true);
                // console.log("removed");
            })
            // $('.gallery').slick('removeSlide', null, null, true);
        }

        $('.gallery, .nav-contact-img-container').contextmenu(function(){
            return false;
        });
        // Adding animation class
        var animationTime = 0;
        function showImage(){
            var imageCount = $(".gallery-images").length;
            var imageLoaded = 0;
            $(".image-container").each(function(){
                var element = $(this);
                element.on("load", function(){
                    console.log("Loaded")
                })
                imageLoaded++;
            });
            if (imageLoaded == imageCount){
                // console.log("qf")
                $(".image-container").each(function(){
                    var element = $(this);
                    element.addClass("fadeLeft");
                });
            }
            // Adding animation delay to each image
            var delay = 0;
            $(".fadeLeft").each(function(){
                delay += 0.1;
                $(this).css("animation-delay", delay + 's');
            })
        };
    </script>
    <!-- Navbar -->
    <script>
        var isMobile =  window.matchMedia("only screen and (max-width: 760px)").matches;;
        // Detecting screen resizing and update flag
        $( document ).ready(function() { 
            $(window).resize(function(){
                isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
                return isMobile
            })
        });
        
        $(".nav-item").on("click", function(){
            isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
            if(isMobile){
                $("#nav-button").click();
            }
        })
        // Navbar script
        function animateBtn(x) {
            isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
            x.classList.toggle("change");
            showNavMenu(isMobile);
        }
        function showNavMenu(flag){
            // console.log(flag);
            //Mobile nav menu
            if (flag){
                $(".navbar, .nav-container").toggleClass("display");
                $(".nav-overlay").toggleClass("show-overlay");
                $(".nav-item").toggleClass("show-nav-item");
                $(".nav-link").removeClass("VCentered");
                var delay = 0
                $(".show-nav-item").each(function(){
                    var element = $(this);
                    delay += 0.1;
                    element.css("animation-delay", delay + 's');
                });

            }
            //Desktop nav menu
            else{
                // Show contact page
                $(".nav-contact-img-container").toggleClass("show-nav-contact-img");
                $(".nav-contact-container").toggleClass("show-nav-contact-container");
                $(".nav-contact-menu").toggleClass("show-nav-contact-menu")
            }
        }
        function showContactMenu(flag){
            // if it is mobile
            if (flag){
                return false
            }
        }
        function hideContactContent(){
            $("#nav-contact-content").toggleClass("hide-contact-content");
        }
        
       
    </script>
    <!-- Misc -->
    <script>
       
         $(window).on("load", function(){
            $("#preloader").fadeOut(300);
        });
        // Random color in hex
        function getRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        // Change background color on mouseover
        function switchThemebg(image){
            var image = $(image);
            var index = image.index();
            // console.log(themebg[index]);
            var bg = themebg[index];
            $("body").css("background-color", bg)
        }

        // Prevent downloading images
        $(document).ready(function(){
            $('.gallery-images').mousedown(function (e) {
                if(e.button == 2) { // right click
                    // console.log("qwfqw");
                    return false; // do nothing!
                }
            })

            $(".gallery-images").on("click", function(){
                $(this).toggleClass("zoom-image");
            })

        })

    
    </script>
</body>
</html>